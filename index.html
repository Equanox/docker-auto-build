<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>docker-auto-build by Equanox</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">docker-auto-build</h1>
      <h2 class="project-tagline">Shell script to manage, build and run docker containers out of a git repo</h2>
      <a href="https://github.com/Equanox/docker-auto-build" class="btn">View on GitHub</a>
      <a href="https://github.com/Equanox/docker-auto-build/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/Equanox/docker-auto-build/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="docker-auto-buildrun" class="anchor" href="#docker-auto-buildrun" aria-hidden="true"><span class="octicon octicon-link"></span></a>Docker Auto Build/Run</h1>

<pre><code>* cmd line tool for a better workflow building docker images
* store run cmds inside Dockerfiles
* speedup workflow in production and development
* one image -&gt; one container
</code></pre>

<p>This cmd line tool is great when working without a docker registry. All dockerfiles are stored inside a git repository in a special folder named docker. You can simply include  your private and public git repo using a ADD cmd inside your dockerfile</p>

<h2>
<a id="requirements" class="anchor" href="#requirements" aria-hidden="true"><span class="octicon octicon-link"></span></a>Requirements</h2>

<p>The repo is tested on ubuntu 14.04 LTS. But should work on all UNIX systems </p>

<pre><code>docker
git
</code></pre>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<pre><code>git clone https://github.com/Equanox/docker-auto-build
cd docker-auto-build
sudo chmod +x install.sh dab
sudo ./install.sh
</code></pre>

<h2>
<a id="example" class="anchor" href="#example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h2>

<pre><code>cd docker-auto-build
dab -i "webhook" -b -c
</code></pre>

<p>wait for webhook beeing built. Then c&amp;p the run cmd</p>

<pre><code>sudo docker run -i -t -p 127.0.0.1:8080:9001 --restart=always --name=webhook webhook /bin/bash
</code></pre>

<p>Open a new terminal and test the webhook inside the docker container using
(if curl is not installed type <strong>sudo apt-get install curl</strong>)</p>

<pre><code>curl -X POST 127.0.0.1:8080/hook?text=HelloWorld
</code></pre>

<p>Everytime you do an update in your code (e.g. examples/server.py) you can just type..</p>

<pre><code>dab -i "webhook" -b -r -c
</code></pre>

<p>to stop+remove the running container and rebuilt your image. This gives you a super fast workflow when testing your code in a local environment.</p>

<h2>
<a id="get-started" class="anchor" href="#get-started" aria-hidden="true"><span class="octicon octicon-link"></span></a>Get Started</h2>

<p>Choose an existing git repo </p>

<pre><code>* Create a folder named docker in the root folder of the repo
* Create a folder named image (or any other name)  inside the docker folder
* copy Dockerfile inside the folder named image
</code></pre>

<p>Now you can build your docker image from everywhere inside your git repo.</p>

<pre><code>sudo dab -b -i "imagename"
</code></pre>

<p>or when inside the image folder</p>

<pre><code>sudo dab -b
</code></pre>

<p>.</p>

<p>To include your repo in your docker image just add the line</p>

<pre><code>ADD image somefolder
</code></pre>

<p>to your Dockerfile.</p>

<p>When you need to replace a running container with the one from a new build </p>

<pre><code>sudo dab -b -i "imagename" -r -c
</code></pre>

<p><em>-r</em> stops and remove all running containers using the name <em>imagename</em></p>

<p><em>-c</em> shows typicall used run cmds for production and development</p>

<p>So you just have to copy &amp; paste the run cmd to restart your container</p>

<h2>
<a id="contribute" class="anchor" href="#contribute" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contribute</h2>

<p>Please, only commit to the develop branch. The master branch  always contains a stable version.</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>This Software is released under the <a href="http://opensource.org/licenses/mit-license.php">MIT license</a>.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/Equanox/docker-auto-build">docker-auto-build</a> is maintained by <a href="https://github.com/Equanox">Equanox</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

